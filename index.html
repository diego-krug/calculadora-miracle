<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Treino ‚Äì Planejador & Custo/Benef√≠cio</title>
  
  <!-- Estilos -->
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <!-- ===== ESTRUTURA HTML ===== -->
  <div class="wrap">
    <!-- Cabe√ßalho -->
    <header class="app-header">
      <div class="header-brand">
        <img src="assets/logo_3.png" alt="Miracle74" class="brand-logo">
        <h1 class="app-title">
          Calculadora de Treino
        </h1>
      </div>
      <div class="header-subtitle">
        Planejador de treino & an√°lise de custo/benef√≠cio
      </div>
    </header>

    <!-- Calculadora de Treino -->
    <section class="card" style="margin-bottom: 14px">
      <h2>Calculadora de Treino</h2>
      
      <div class="calculator-container">
        <div class="input-section">
          <div class="input-group">
            <label>Horas desejadas (tempo real de treino)</label>
            <input type="number" id="targetHours" step="0.1" min="0" value="68">
          </div>
          
          <div class="input-group">
            <label>Selecione o item para calcular</label>
            <select id="itemSelector" class="btn">
              <option value="">Escolha um item...</option>
              <!-- Op√ß√µes ser√£o inseridas via JavaScript -->
            </select>
            
            <!-- Custom Select com Imagens -->
            <div class="custom-select-container">
              <div class="custom-select" id="customSelect" tabindex="0">
                <div class="selected-item" id="selectedItem">
                  <span style="color: var(--muted);">Escolha um item...</span>
                </div>
                <svg class="dropdown-arrow" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="m6 9 6 6 6-6"/>
                </svg>
              </div>
              <div class="custom-dropdown" id="customDropdown">
                <!-- Op√ß√µes ser√£o inseridas via JavaScript -->
              </div>
            </div>
          </div>
        </div>
        
        <div class="results-section" id="resultsSection" style="display: none;">
          <div class="quantity-section">
            <label>Quantidade necess√°ria</label>
            <div class="quantity-result" id="quantityResult">
              <!-- Resultados ser√£o inseridos aqui -->
            </div>
          </div>
          

        </div>
      </div>
      
      <div class="hint" style="margin-top: 12px">
        <b>üí° Como funciona:</b> Digite o tempo real que voc√™ vai treinar (ex: 68h). O sistema calcula quantas unidades voc√™ precisa de cada item, considerando que cada arma tem seu pr√≥prio b√¥nus de velocidade. A quantidade √© sempre arredondada para cima.
        <br><br>
        <b>‚ö†Ô∏è Observa√ß√£o:</b> O c√°lculo para <b>escudos</b> ainda n√£o est√° 100% preciso, pois varia dependendo da quantidade de criaturas que est√£o lhe atacando e os hits de fuma√ßa e spark.
      </div>
    </section>

    <!-- Custo x Benef√≠cio -->
    <section class="card" style="margin-bottom: 14px">
      <div class="row" style="margin-bottom: 8px">
        <h2 style="margin: 0">Calculadora de custo √ó benef√≠cio</h2>
        <div class="right row">
          <input type="text" id="search" placeholder="Filtrar por nome..." />
          <select id="sortBy" class="btn">
            <option value="costPerHour">Ordenar: Custo por hora</option>
            <option value="minutesEffPerUnit">Ordenar: Minutos efetivos</option>
            <option value="charges">Ordenar: Cargas</option>
            <option value="name" selected>Ordenar: Nome</option>
          </select>
          <select id="sortDir" class="btn">
            <option value="asc">Asc</option>
            <option value="desc" selected>Desc</option>
          </select>
        </div>
      </div>

      <div class="cards-container" id="weaponsCards">
        <!-- Cards ser√£o inseridos via JavaScript -->
      </div>
    </section>

    <!-- Se√ß√£o de Doa√ß√£o -->
    <section class="card donation-section">
      <div class="donation-content">
        <div class="donation-text">
          <h3>‚ù§Ô∏è Gostou da ferramenta?</h3>
          <p>Se esta calculadora te ajudou, considere me pagar um caf√©! ‚òï</p>
          <p class="donation-subtitle">Sua doa√ß√£o ajuda a manter e melhorar ferramentas como esta.</p>
        </div>
        <div class="donation-button-container">
          <a href="https://livepix.gg/krug" target="_blank" rel="noopener noreferrer" class="donation-button">
            <span class="coffee-icon">‚òï</span>
            <span class="button-text">Me pague um caf√©</span>
            <span class="heart-icon">‚ù§Ô∏è</span>
          </a>
        </div>
      </div>
    </section>

  </div>

  <!-- Bot√£o de Toggle do Tema -->
  <button class="theme-toggle" id="themeToggle" title="Alternar tema">
    üåô
  </button>

  <!-- Scripts -->
  <script src="js/theme.js"></script>
  <script src="js/config.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/ui.js"></script>
  <!-- <script src="js/main.js"></script> -->
  
  <!-- Script de teste inline para debug -->
  <script>
    // Aguarda todos os scripts carregarem
    window.addEventListener('load', () => {
      console.log('üéØ Verificando carregamento dos scripts...');
      
      // Verifica se os dados est√£o carregados
      if (typeof WEAPONS_DATA !== 'undefined') {
        console.log('‚úÖ WEAPONS_DATA carregado:', WEAPONS_DATA.length, 'itens');
        
        // Inicializa o tema se dispon√≠vel
        if (typeof initializeTheme === 'function') {
          try {
            initializeTheme();
            console.log('üé® Sistema de tema inicializado');
          } catch (error) {
            console.error('‚ùå Erro ao inicializar tema:', error);
          }
        }
        
        // Tenta inicializar manualmente se necess√°rio
        if (typeof initializeUI === 'function') {
          try {
            initializeUI();
            console.log('üéâ Aplica√ß√£o inicializada com sucesso!');
          } catch (error) {
            console.error('‚ùå Erro ao inicializar:', error);
          }
        } else {
          console.error('‚ùå Fun√ß√£o initializeUI n√£o encontrada');
        }
      } else {
        console.error('‚ùå WEAPONS_DATA n√£o carregado');
      }
    });
  </script>
</body>
</html>
