<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Treino ‚Äì Planejador & Custo/Benef√≠cio</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="styles/main.css">
</head>

<body>
  <!-- ===== ESTRUTURA HTML ===== -->
  <div class="wrap">
    <!-- Cabe√ßalho -->
    <header class="app-header">
      <div class="header-brand">
        <img src="assets/logo_3.png" alt="Miracle74" class="brand-logo">
        <h1 class="app-title">
          Calculadora de Treino
        </h1>
      </div>
      <div class="header-subtitle">
        Planejador de treino & an√°lise de custo/benef√≠cio
      </div>
    </header>


    <!-- Calculadora de Skills -->
    <section class="card" style="margin-bottom: 14px">
        <div class="skills-calculator-container">
          <div class="skills-input-section">
            <!-- Card de Voca√ß√µes -->
            <div class="skills-card">
              <h3 class="skills-card-title">üé≠ Voca√ß√µes</h3>
              <div class="vocation-radio-container">
                <div class="vocation-radio-item">
                  <input type="radio" id="vocationKnight" name="vocation" value="knight" class="vocation-radio">
                  <label for="vocationKnight" class="vocation-radio-label">
                    <img src="assets/knight.gif" alt="Knight" class="vocation-image">
                    <span class="vocation-name">Knight</span>
                  </label>
                </div>
                
                <div class="vocation-radio-item">
                  <input type="radio" id="vocationPaladin" name="vocation" value="paladin" class="vocation-radio">
                  <label for="vocationPaladin" class="vocation-radio-label">
                    <img src="assets/paladin.gif" alt="Paladin" class="vocation-image">
                    <span class="vocation-name">Paladin</span>
                  </label>
                </div>
                
                <div class="vocation-radio-item">
                  <input type="radio" id="vocationSorcerer" name="vocation" value="sorcerer" class="vocation-radio">
                  <label for="vocationSorcerer" class="vocation-radio-label">
                    <img src="assets/sorcerer.gif" alt="Sorcerer" class="vocation-image">
                    <span class="vocation-name">Sorcerer</span>
                  </label>
                </div>
                
                <div class="vocation-radio-item">
                  <input type="radio" id="vocationDruid" name="vocation" value="druid" class="vocation-radio">
                  <label for="vocationDruid" class="vocation-radio-label">
                    <img src="assets/druid.gif" alt="Druid" class="vocation-image">
                    <span class="vocation-name">Druid</span>
                  </label>
                </div>
              </div>
            </div>
  
            <!-- Card de Tipos de Skill -->
            <div class="skills-card">
              <h3 class="skills-card-title">‚öîÔ∏è Tipos de Skill</h3>
              <div class="skill-type-radio-container">
                <div class="skill-type-radio-item">
                  <input type="radio" id="skillTypeMelee" name="skillType" value="melee" class="skill-type-radio">
                  <label for="skillTypeMelee" class="skill-type-radio-label">
                    <img src="assets/spark_sword.gif" alt="Melee" class="skill-type-image">
                    <div class="skill-type-text">
                      <span class="skill-type-name">Melee</span>
                      <span class="skill-type-desc">Axe/Club/Sword</span>
                    </div>
                  </label>
                </div>
                
                <div class="skill-type-radio-item">
                  <input type="radio" id="skillTypeMagic" name="skillType" value="magic" class="skill-type-radio">
                  <label for="skillTypeMagic" class="skill-type-radio-label">
                    <img src="assets/spark_wand.gif" alt="Magic Level" class="skill-type-image">
                    <div class="skill-type-text">
                      <span class="skill-type-name">Magic Level</span>
                      <span class="skill-type-desc">ML</span>
                    </div>
                  </label>
                </div>
                
                <div class="skill-type-radio-item">
                  <input type="radio" id="skillTypeDistance" name="skillType" value="distance" class="skill-type-radio">
                  <label for="skillTypeDistance" class="skill-type-radio-label">
                    <img src="assets/spark_spear.gif" alt="Distance" class="skill-type-image">
                    <div class="skill-type-text">
                      <span class="skill-type-name">Distance</span>
                      <span class="skill-type-desc">Bow/Arrow</span>
                    </div>
                  </label>
                </div>
                
                <div class="skill-type-radio-item">
                  <input type="radio" id="skillTypeShielding" name="skillType" value="shielding" class="skill-type-radio">
                  <label for="skillTypeShielding" class="skill-type-radio-label">
                    <img src="assets/spark_shield.gif" alt="Shielding" class="skill-type-image">
                    <div class="skill-type-text">
                      <span class="skill-type-name">Shielding (em breve)</span>
                      <span class="skill-type-desc">Shield</span>
                    </div>
                  </label>
                </div>
              </div>
            </div>
  
            <div class="skills-row">
              <div class="skills-input-group">
                <label>Skill Atual</label>
                <input type="number" id="currentSkill" class="skills-input" placeholder="Ex: 40" min="0" step="0.1">
              </div>
  
              <div class="skills-input-group">
                <label>Skill Desejada</label>
                <input type="number" id="targetSkill" class="skills-input" placeholder="Ex: 70" min="0" step="0.1">
              </div>
            </div>
  
            <div class="skills-calculate-btn-container">
              <button id="calculateSkillsBtn" class="skills-calculate-btn">üßÆ Calcular Skills</button>
            </div>
  
  
  
                    <!-- Resultado Integrado: Skills + Treino -->
          <div class="skills-results-section" id="skillsResultsSection" style="display: none;">
            <div class="skills-result-card">
              <h3>üìä Resultado do C√°lculo de Skills</h3>
              <div class="skills-stats-grid">
                <div class="skills-stat-item">
                  <div class="skills-stat-label">Skill Atual</div>
                  <div class="skills-stat-value" id="displayCurrentSkill">-</div>
                </div>
                <div class="skills-stat-item">
                  <div class="skills-stat-label">Skill Desejada</div>
                  <div class="skills-stat-value" id="displayTargetSkill">-</div>
                </div>
                <div class="skills-stat-item">
                  <div class="skills-stat-label">Diferen√ßa</div>
                  <div class="skills-stat-value" id="displaySkillDifference">-</div>
                </div>
              </div>

              <div class="skills-training-info">
                <div class="skills-info-item">
                  <span class="skills-info-label">‚è±Ô∏è Tempo estimado:</span>
                  <span class="skills-info-value" id="displayTrainingTime">-</span>
                </div>
              </div>
              
              <!-- Input hidden para o tempo calculado das skills -->
              <input type="hidden" id="targetHours" value="0">
              
              <!-- Informa√ß√µes de Treino Integradas -->
              <div class="training-info-integrated" id="trainingInfoIntegrated" style="display: none;">
                <div class="training-info-header">
                  <h4>‚öîÔ∏è Informa√ß√µes de Treino</h4>
                  <div class="skill-type-badge-integrated" id="skillTypeBadgeIntegrated">-</div>
                </div>
                
                <div class="training-details-grid">
                  <div class="training-detail-item">
                    <span class="detail-label">‚è∞ Tempo por Tier:</span>
                    <div class="tier-time-breakdown" id="tierTimeBreakdownDisplay">-</div>
                  </div>
                  <div class="training-detail-item">
                    <span class="detail-label">üì¶ Quantidade por Tier:</span>
                    <div class="tier-breakdown" id="tierBreakdownDisplay">-</div>
                  </div>
                  <div class="training-detail-item">
                    <span class="detail-label">üí∞ Custo por Tier:</span>
                    <div class="tier-cost-breakdown" id="tierCostBreakdownDisplay">-</div>
                  </div>
                </div>
                
                <!-- Hint para o usu√°rio -->
                <div class="training-hint">
                  <div class="hint-icon">üí°</div>
                  <div class="hint-content">
                    <strong>Dica:</strong> Des√ßa at√© a calculadora de custo √ó benef√≠cio para personalizar os pre√ßos de cada arma e ver custos personalizados!
                  </div>
                </div>
              </div>
            </div>


          </div>
        </div>
      </section>

    <!-- Custo x Benef√≠cio -->
    <section class="card" style="margin-bottom: 14px">
      <div class="row" style="margin-bottom: 8px">
        <h2 style="margin: 0">Calculadora de custo √ó benef√≠cio</h2>
        <div class="right row">
          <input type="text" id="search" placeholder="Filtrar por nome..." />
          <select id="sortBy" class="btn">
            <option value="costPerHour">Ordenar: Custo por hora</option>
            <option value="minutesEffPerUnit">Ordenar: Minutos efetivos</option>
            <option value="charges">Ordenar: Cargas</option>
            <option value="name" selected>Ordenar: Nome</option>
          </select>
          <select id="sortDir" class="btn">
            <option value="asc">Asc</option>
            <option value="desc" selected>Desc</option>
          </select>
        </div>
      </div>

      <div class="cards-container" id="weaponsCards">
        <!-- Cards ser√£o inseridos via JavaScript -->
      </div>
    </section>

    <!-- Se√ß√£o de Doa√ß√£o -->
    <section class="card donation-section">
      <div class="donation-content">
        <div class="donation-text">
          <h3>‚ù§Ô∏è Gostou da ferramenta?</h3>
          <p>Se esta calculadora te ajudou, considere me pagar um caf√©! ‚òï</p>
          <p class="donation-subtitle">Sua doa√ß√£o ajuda a manter e melhorar ferramentas como esta.</p>
        </div>
        <div class="donation-button-container">
          <a href="https://livepix.gg/krug" target="_blank" rel="noopener noreferrer" class="donation-button">
            <span class="coffee-icon">‚òï</span>
            <span class="button-text">Me pague um caf√©</span>
            <span class="heart-icon">‚ù§Ô∏è</span>
          </a>
        </div>
      </div>
    </section>

  </div>

  <!-- Bot√£o de Toggle do Tema -->
  <button class="theme-toggle" id="themeToggle" title="Alternar tema">
    üåô
  </button>

  <!-- Scripts -->
  <script src="js/theme.js"></script>
  <script src="js/config.js"></script>
  <script src="js/calculator.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/skills-calculator.js"></script>
  <!-- <script src="js/main.js"></script> -->

  <!-- Script de teste inline para debug -->
  <script>
    // Aguarda todos os scripts carregarem
    window.addEventListener('load', () => {
      console.log('üéØ Verificando carregamento dos scripts...');

      // Verifica se os dados est√£o carregados
      if (typeof WEAPONS_DATA !== 'undefined') {
        console.log('‚úÖ WEAPONS_DATA carregado:', WEAPONS_DATA.length, 'itens');

        // Inicializa o tema se dispon√≠vel
        if (typeof initializeTheme === 'function') {
          try {
            initializeTheme();
            console.log('üé® Sistema de tema inicializado');
          } catch (error) {
            console.error('‚ùå Erro ao inicializar tema:', error);
          }
        }

        // Tenta inicializar manualmente se necess√°rio
        if (typeof initializeUI === 'function') {
          try {
            initializeUI();
            console.log('üéâ Aplica√ß√£o inicializada com sucesso!');
          } catch (error) {
            console.error('‚ùå Erro ao inicializar:', error);
          }
        } else {
          console.error('‚ùå Fun√ß√£o initializeUI n√£o encontrada');
        }
      } else {
        console.error('‚ùå WEAPONS_DATA n√£o carregado');
      }
    });
  </script>
</body>

</html>